# Next.Accounts Server "Game Control"
## Steam accounts distribution system

## Актуальная версия
Актуальная версия на данный момент **_4.0.0.0_**.

## Описание системы
Система "Game Control" создана по заказу Сети центров развлечений [NEXT](http://next.kz/) для того, чтобы не хранить статически данные арендуемых аккаунтов на игровой компьютере. Ранее ярлыки на компьютерах ссылались на Бат-файл, в котором были прописаны данные аккаунта и код игры. Запуск батника приводил к крашу всех процессов стима и запуску новых с аргументами логин-пароль-игра. Чем больше компьютеров в центре, тем больше необходимо аккаунтов. "Хватить это терпеть!", - решило руководство компании, и позвали на помощь меня, студента без программерского опыта, но мечтающего стать проггером.

## Как скачать?
А никак! bin папка, куда складываются скомпиленные файлы, добалвена в гитигнор, чтобы не заполнять трафик и место. Обращайтесь к разработчику в личку либо клонируйте репозиторий себе и компилируйте. Программа использует пакет .NET.Framework 4.5.2, поэтому он необходим на компьютере, где устанавливается приложение. В директории лежат файлы, которые кладутся туда Студией для последующего дебаггинга программы, когда исполняемый файл выдает необрабатываемые исключения. Эти файлы выводят строку и файл, где, собственно, произошло исключение. Эти файлы не являются обязательными, но сильно облегчают работу разработчику.

## Структура системы
Система состоит из 2 частей, а также дополнительного приложения для администрирования.
* Кор системы - [Серверное приложение](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/Next.Accounts%20Server). Программа принимает запросы от [клиентских приложений](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/Next.Accounts%20Client), передавая им аккаунт либо уведомляя об отсутствии или запрете на выдачу. Аккаунты хранятся в базе данных SQLite и частично в PostgreSQL.
* [Клиентское приложение](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/Next.Accounts%20Client), устанавливаемое (копируемое) на игровые компьютеры. Через ярлык передаются аргументами код игры (например, для CS:GO это - 730) и название, которое будет отображаться в загловке формы. Игрок, запуская ярлык, как он думает, CS:GO, запускает это приложение с аргументами. Клиент закрывает все текущие стим-процессы, посылает запрос серверу, принимает данные доступа (логин/пароль) либо ответ об отказе и запускает стим с данными, если аккаунт был прислан. Если нет - отображает в окне сообщение об этом.
* Базы данных SQLite и PostgreSQL. История с базами данных длинная, изначально было решено хранить аккаунты и статистику в удаленной PostgreSQL на сервере в облаке (DigitalOcean). Затем машина с базой была заблокирована (что-то вроде подозрения на взлом), в итоге база перекатилась на сервер офиса. Но был риск, что электропитание в офисе может быть отключено. Как ни странно, риск реализовывался как раз во время выходных, когда в офисе никого не было. Центры оставались без аккаунтов. Было решено перенести поле работы серверов в оффлайн - организовать базу данных MySQL, а затем в SQLite локально на компьютере, где развернут сервер, чтобы там храниласть часть аккаунтов, предназначенных именно для этого центра. В удаленной базе было принято решение хранить пул аккаунтов на случай восстановления системы.

## Название системы
Система **_"Game Control"_** была названа так, потому что не знаю почему. Но название ей было необходимо. Ну да ладно.

## История версий
История версий велась почти с самого начала, однако сохранялась она в документе MS Word в облаке. Копирую текст [сюда](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/versions.md), но в отдельный файл.

## Инструкция пользования
Пользователями системы считаются, в основном, системные администраторы в центрах. Инструкция была разработана разработчиком (но, как обычно, языком, понятным только ему). Копирую текст инструкции в [отдельный файл](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/instruction.md), буду дополнять его по мере необходимости. Там же содержится и описание проекта по ранним "эскизам"

## Лицензия
Объявляю это приложение Open Source, хоть оно и никому не надо в опенсорсной среде. Но тем не менее, why not? Но при этом сохраняю лицензию [Apache 2.0](https://github.com/maximgorbatyuk/Next.Accounts-Server/tree/master/license.md), чтобы было неповадно копировать мои разработки и называть их своими именами и ставить свое авторство. Пусть это и го... плохой код, но это - мой код, мои велосипеды и мои костыли. Пусть так и останется. Если Вы захотите использовать мои наработки в своих проектах или построить аналогичный моему проект, то, пожалуйста, свяжитесь со мной, возможно, я Вам помогу или почерпну что-нибудь новое из Вашего багажа знаний.